% !TEX root = tnnls_depression_survey.tex

\ifx\allfiles\undefined
    \input{tnnls_prefix}
\fi

\section{Auxiliary depression diagnosis method based on Brain Imaging}
\label{sec_approach}

The structure and function of the brain are abnormal in depressed patients.
To a certain extent, they inhibit patients' thinking speed, seriously causing cognitive damage and even mental illness.
In addition, depression can atrophy the hippocampus of the patient's brain, change neurotransmitters, and cause chronic inflammation, leading to memory loss, slow thinking, and fatigue, which dramatically reduces the energy level and motivation of the patient and makes it difficult for them to socialize.
These findings have found a breakthrough point for the auxiliary diagnosis of depression.

As shown in Fig \ref{fNIRS}(a), brain images are acquired by scanning the subject's brain with various precision instruments.
There are significant differences in brain volume and structure among different people, as well as a large amount of interference and noise in the acquisition data due to the slight head movement of the subject or the scanning equipment during the acquisition process, so image pre-processing is needed to eliminate individual differences and noise interference.
Among them, image normalization includes head movement correction, brain tissue separation, and segmentation alignment.
This step can remove individual differences and head movement interference.
Image denoising is mainly used to remove the noise generated by the external environment and equipment, and the common methods include Gaussian filtering, band-pass filtering, wavelet transform, etc.
In the feature extraction process, linear models, wavelet packet decomposition, and other methods are usually applied to extract time and frequency domain features, or the features of each brain region are extracted according to standard brain templates. 
Then redundant and irrelevant features are removed using feature selection algorithms, and the practical features are fused for subsequent prediction.

Brain imaging refers to techniques that employ an interaction between brain tissue and various forms of energy (e.g., electromagnetic or particle radiation) rather than the physical incision to capture positional data about the structure and function of the brain.
Brain images can be divided into MRI, fNIRS, Computed Tomography, Positron Emission Computed Tomography, Magnetic Resonance Spectroscopy, etc., according to different imaging technologies.
These brain images have several advantages, such as safety, painlessness, and non-invasive, which are essential for a depression diagnosis.
As other types of images are used too infrequently, we mainly focus on MRI and fNIRS-based auxiliary diagnosis of depression.


\begin{figure}[tbp]
	\centering
	\subfloat[]{
		\label{fig_hard_case1}\includegraphics[width=0.48\linewidth]{figures/depression/fNIRS3.png}
	}
	\subfloat[]{
		\label{fig_hard_case2}\includegraphics[width=0.48\linewidth]{figures/depression/fNIRS4.png}
	}\\
	\subfloat[]{
		\label{fig_hard_case1}\includegraphics[width=0.48\linewidth]{figures/depression/sMRI.png}
	}
	\subfloat[]{
		\label{fig_hard_case2}\includegraphics[width=0.48\linewidth]{figures/depression/fMRI.png}
	}
	\caption{
    (a) Participant instrumented and sitting upright while collecting brain imaging data~\cite{2020Classifying}.
    (b) prefrontal cortex activation sensitivity map of fNIRS probe~\cite{2020Classifying}.
    (c) Three view of sMRI images~\cite{marek2011parkinson}
    (d) Three view of fMRI images~\cite{marek2011parkinson}
	}
	\label{fNIRS}
\end{figure}


\subsection{MRI}
%\label{sec_fquality}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%MRI is a non-invasive imaging technology that produces three dimensional detailed anatomical images.
%It is often used for disease detection, diagnosis, and treatment monitoring.
%MRI is a examination technology based on the principle that atomic nuclei with magnetic distance can produce transitions between energy levels under the action of a magnetic field.
%Physicians are able to tell the difference between various types of tissues based on these magnetic properties, and help to check the energy state and cerebral blood flow of the patient's brain.

MRI is a non-invasive imaging technology that produces three-dimensional detailed anatomical images.
MRI not only can describe the changes in the volume or structure of brain tissue but also reflect the changes in neural activity in the brain. It provides great value in the auxiliary diagnosis of depression.
%It has been found that depressed patients show paradoxical changes in the hippocampal volume, gray matter volume, habenula volume, etc., which usually show varying degrees of reduction~\cite{Santos2018Global,2011Volume,2005Male,2020Subthreshold,2013Habenula,J2013P}.
In MRI techniques, images obtained with different scanning parameters include structural MRI (sMRI) and functional MRI (fMRI), as shown in Fig \ref{fNIRS}(c)(d).
The sMRI images can clearly show the brain's anatomical structure with high spatial resolution and can be used to objectively reflect the structural morphological changes within the brain~\cite{Santos2018Global,2011Volume,2013Habenula,J2013P,2013Evaluation,P2020Radiological,2019Depression}.
fMRI uses magnetic resonance imaging to measure changes in hemodynamics caused by neuronal activity.
It can observe the changes in the brain through the small changes in the magnetic resonance signal caused by the oxygenation state of the brain, thereby revealing the relationship between brain activity and thinking.
And most of the research based on MRI auxiliary diagnosis of depression is conducted using fMRI.


%The detection of depression from sMRI scans usually includes processes such as image acquisition and preprocessing, feature extraction and selection, and classification. Machine learning methods have also been widely used, such as One Rule (OneR), SVM, Information Gain (IG) and ReliefF, etc~\cite{2013Evaluation}~\cite{P2020Radiological}.
%Deep learning methods have brought out remarkable results in medical imaging analysis, such as Mousavian et al.~\cite{2019Depression} found that the pre-trained VGG 16 and fine- tuning produced good results.


According to different experimental conditions, fMRI is mainly divided into Resting State fMRI and Task State fMRI.
Task State fMRI refers to the process of collecting data, and subjects need to perform specific tasks, such as exercise and cognitive activities.
Task State fMRI is model-driven and requires careful experimental design. The quality of the model is closely related to the experiment design.
In contrast, Resting State fMRI is the fMRI image when the brain does not perform specific cognitive tasks and keeps quiet, relaxed, and awake~\cite{2018Disrupted}.
Resting State fMRI does not depend on the experimental design. It also has some physiological significance in detecting subjects' blood oxygen level-dependent signals in a resting state.
In addition, Resting State fMRI images can reveal low-frequency blood oxygenation level-dependent signal fluctuations, which can be used to monitor the abnormal spontaneous neuronal activity caused by mental diseases.

%Many researchers have built machine learning classification models to predict the accuracy of depression~\cite{2013Identifying,2019Intrinsic,2019Resting}.
%Zeng et al.~\cite{2014Unsupervised} built an unsupervised machine learning model for MDD.
%Bhaumik et al.~\cite{2016Multivariate} extracted the features of the left posterior cingulate cortex and the right dorsolateral prefrontal cortex and input it to the SVM classifier for depression recognition.
%Yan et al.~\cite{2020Quantitative} exploited the hidden information embedded in dynamic functional connectivity (DFC) and developed an accurate and objective image-based diagnosis system for MDD.
%To improve the generalization ability of classifiers, multicenter studies~\cite{2020Generalizable} have been conducted and cover deep learning algorithms.
%Zhao et al.~\cite{2020Functional} established a generative adversarial network depression classification model based on functional brain network connections in a multicenter sample. Jun rt al.~\cite{2020Identifying} distinguished drug-naïve MDD patients from healthy controls using Graph Convolutional Networks (GCNs).


%Murrough utilized functional magnetic resonance imaging (fMRI) and two separate emotion perception tasks to examine the neural effects of ketamine in patients with treatment-resistant major depressive disorder(TRD), found that TRD patients had reduced neural responses to frontal faces in the right caudate nucleus compared to healthy volunteers~\cite{2015Regulation}.
%Johnston described an instrumental loss-avoidance and win-gain reinforcement learning functional magnetic resonance imaging study with 40 patients with highly treatment-resistant major depressive disorder and never-depressed controls, found that the predictive diagnostic accuracy of patients with abnormal striatal activity was as high as 97\%, while the predictive diagnostic accuracy of abnormal hippocampal activity was 84\%~\cite{2015Failure}.
%Current research combining machine learning with TS fMRI is mainly related to emotional face stimulation, speech and music listening tasks, and this method enables individual-level analysis and reduces subjective misjudgments.
%Machine learning classifiers have achieved good results in related research, such as Gaussian Process Classifiers(GPC), RF, SVM, etc~\cite{2013What}~\cite{2015Toward}.
%Because deep learning has the advantages of reducing human intervention, deep analysis and feature extraction, selection and classification in the same optimal deep structure. Gui trained a Deep Learning Network (DLN) model with fMRI data of listening to positive and negative music~\cite{2019The1}.


\subsubsection{fMRI auxiliary depression diagnosis based on traditional machine learning}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

A part of traditional methods based on fMRI usually uses Generalize Linear Model to extract linear features and then apply statistical tests for analysis.
However, more nonlinear features such as Functional Connectivity, Degree Centrality, Regional Homogeneity, and Amplitude of Low-frequency Fluctuation are used for analysis.

\emph{(1) Functional Cnnectivity} refers to statistical dependence between time series of electro-physiological activity and oxygenated blood levels in distinct brain regions.
Abnormalities in connectivity between functional brain areas can reflect changes caused by mental illness.

\emph{(2) Degree Centrality} reflects the importance of nodes in information transmission in the brain's functional network.
Degree Centrality is an effective index widely used to find changes in resting-state functional networks in mental illness.

\emph{(3) Regional Homogeneity} measures brain activity which evaluates the similarity or synchronization between the time series of a given voxel and its nearest neighbors.
This metric has been commonly applied to study the association between healthy or disease conditions.

\emph{(4) The amplitude of Low-frequency Fluctuation} measures the total power of a given time course within a typical frequency range, which is typically 0.01-0.08Hz.
The amplitude of Low-frequency Fluctuation can characterize the energy intensity of brain activity over a period of time and effectively delineate the potential pathophysiological mechanisms of diseases.

These features can better describe the characteristics of different brain regions or voxel regions and are essential features for describing Resting State fMRI images~\cite {lord2012changes,2013Identifying,2016Multivariate,wang2017depression,mousavian2020depression}.

Multivariable Pattern Analysis is also used to research individual-level diagnosis and classification of mental diseases.
This method can judge whether an unknown type of subject sample has certain diseases by modeling multivariable data of a predetermined type.
On this basis, Gu et al.~\cite {8575800} use multivariable pattern analysis to carry out the Resting State fMRI-based auxiliary diagnosis of depression.

However, the common problem based on traditional machine learning methods is that the feature dimension needs to be lowered, and the input model variables greatly exceed the number of training samples, resulting in overfitting.
Therefore, many researchers choose the least absolute shrink and selection operator to capture the key features and further optimize them.
They use the group least absolute shrink and selection operator, sparse group least absolute shrink and selection operator, and standard least absolute shrink and selection operator for analysis~\cite{2015Toward}~\cite{ 2020Generalizable }.

\subsubsection{fMRI auxiliary depression diagnosis based on deep learning}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Although the traditional machine learning methods still occupy the mainstream research position in the medical image field, it need to manually extract features, which requires researchers to have some prior knowledge in related fields, and there is also the problem of removing redundant features, making the feature extraction process complex and burdensome.
%Deep learning technology provides more choices for medical image analysis by building neural networks from the main learning features.
%The most popular deep learning technique in this area is CNN, closely followed by LSTM, and a few additional models, like Generative Adversarial Networks(GAN).

Deep learning methods have been used for
fMRI auxiliary depression diagnosis automatically, including CNN, LSTM, Graph Convolutional Network (GCN), transformer, and a few additional models, like Generative Adversarial Networks (GAN).
The details of these models are given below.


Many researchers use CNN to process independent two-dimensional slices to learn effective features in fMRI, thereby better mining the strong local spatial correlation in the image.~\cite{mousavian2020depression}.
For example, Chun et al.~\cite{chun2020visualizing} classify depression by estimating whole-brain connectivity using CNN.
Their model contains two 2D-convolution layers with ReLU activation functions followed by a max-pooling layer, dropout, a fully connected layer with L2-normalization, and another fully connected layer with a softmax activation function.
Gui et al.~\cite{2019The1} propose a deep learning network with multi-branch and local residual feedback for four types of Task State fMRI imaging data produced by depressed patients and control people under the music task condition.
In the network construction, the convolution kernel of the convolutional layer has the same size as the input correlation coefficient matrix, allowing the CNN feature matching capabilities to be fully utilized.
Following convolution, feature-matching results are obtained and passed to the Inception-ResNet structures of the two DNNs.
Finally, the softmax layer provides the classification output following the full link layer.
This type of network ensures sufficient depth to assure good nonlinearity and sends mistakes to each layer to better train the entire network.


However, MRI data is 3 Dimensions (3D) or 4 Dimensions, which means that it is high-dimensional, including both spatial and time information.
Mousavian et al.~\cite {mousavian2020depression} use 3D-CNN to capture 3D spatial information or Spatial-temporal CNN to extract spatial and temporal information simultaneously.
In addition, to understand the brain changes over time, LSTM is also trained to capture the changes of Resting State fMRI over time.
Mousavian et al.~\cite{mousavian2020depression} also use a hybrid model combining CNN and LSTM to capture data's spatial and temporal information.
CNN works for retrieving spatial features of the data and extracting the active areas, and LSTM retrieves temporal features and models the blood flow.


%GCN
%Recently, graph based methods are popular in medical applications because they can adapt to the complex pairwise similarity of imaging/nonimaging features between subjects.
%Jun et al.~\cite{2020Identifying} use spectral Graph Convolutional Networks based on population graph to successfully integrate effective connectivity features and nonimaging demographic features.

GCNs enable comprehensive mapping of brain functional connectivity patterns to depict brain
activities.
In order to acquire usable representations of brain FC networks, spectral graph convolutional neural networks have been utilized to capture topological information explicitly~\cite{yao2019triplet,ktena2018metric,2020Identifying}.
However, they typically employ a fixed group-level rather than a subject-level adjacent matrix to represent the interactions between various brain regions, failing to capture the time-varying information in fMRI data.
To this end, Yao et al.~\cite{yao2020temporal} propose a Temporal-Adaptive GCN framework to extract both static and dynamic information of brain FC patterns for depression identification.
Precisely, they extract rs-fMRI time-series signals from each region of interest and divide time-series data into numerous overlapped blocks using fixed-size sliding windows.
An adaptive graph convolutional layer is subsequently used for each block to generate a flexible connectivity matrix, which can help model multi-level semantic information within the whole time series. Following that, convolution operations on each region of interest along different blocks capture the temporal dynamics of the complete time series. Finally, for depression classification, a fully linked layer is used, followed by a softmax function.
The results demonstrate that the network is highly effective in capturing dynamic FC alteration and learning valid graph representations.

The transformer's strong ability in long-range dependencies modeling makes it suitable
to capture relations between distant brain regions in fMRI volume.
To this end, wang et al.~\cite{wang2022function} propose a transformer-based functional MRI representation learning framework to encode global spatial information of FCNs for a depression diagnosis.
Additionally, Dai et al.~\cite{dai2022brainformer} propose a classification model based on a single fMRI volume
working in an ROI-labeling-free manner.
Compared with existing methods that rely on FC, this method jointly captures local details inside brain regions and the global relationship between brain regions from single fMRI volumes and exhibits stronger capability in depression classification.
%Nevertheless, the major technical challenge in applying Transformer to fMRI analysis lies in the prohibitive computation complexity on the high-dimensional fMRI data, especially at shallow layers with high feature resolution.




The lack of training samples is a severe problem in applying deep learning methods in medical imaging. Therefore, some researchers use GAN to solve the problem of overfitting, but the effect is not ideal, and further research is needed~\cite {2020Functional}.

%\subsection{Others}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Brain metabolic imaging provides an accurate understanding of nerve cell activity and metabolic changes under normal conditions and disease states, as well as the metabolic situation of the cerebral cortex under different physiological conditions of stimulation and thinking activity. Brain metabolic imaging such as PET and MRS can visualize the metabolic activity and various physiological or pathological metabolic changes in human brain and reflect them in the form of images.

%PET uses the decay law or distribution characteristics of substances related to nuclear radiation, such as glucose, proteins, nucleic acids, etc., in the research object to obtain detailed information to reflect their metabolic activities to achieve the purpose of diagnosis.
%PET is mainly based on the annihilation effect of positrons and electrons and can be used to explore characteristic pathological states and indicators in depressed patients. By investigating the correlation between changes in metabolic function in MDD brain regions and depressive symptoms, it was found that compared to normal healthy subjects, depressed patients usually show such phenomena as decreased regional cerebral blood flow values and standardized glucose uptake values in the prefrontal lobe, increased total distribution of translocated proteins, and increased inflammatory markers~\cite{2017Functional,2017Elevated,li2018microglial,2014Cerebral}.

%MRS uses nuclear chemical shifts to study molecular structure and can be used to detect metabolite concentrations in brain regions.
%MRS can detect biochemical changes in the injured tissue of the body by magnetic resonance hydrogen spectroscopy, which can effectively observe the metabolism of the injured area and has some clinical value for early diagnosis of the depression.
%It was found that N-acetylaspartate (NAA) levels were significantly lower in the left hippocampus, glutamine and glutamate (Glx) levels were significantly increased in the right hippocampus, and choline complex (Cho) and creatine (Cr) levels were significantly higher in depressed patients compared to controls, and correlated with the severity of depression in patients~\cite{2018Early,20181H,2013}.


%\subsection{PET}
%\label{sec_fquality}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%PET uses the decay law or distribution characteristics of substances related to nuclear radiation, such as glucose, proteins, nucleic acids, etc., in the research object to obtain detailed information to reflect their metabolic activities to achieve the purpose of diagnosis.

%By examining the correlation between changes in cerebral blood perfusion and glucose metabolic function in the prefrontal lobe and depressive symptoms, Fu found that regional cerebral blood flow values and standardized glucose uptake values in the prefrontal lobe were reduced in depressed patients compared to normal healthy subjects~\cite{2017Functional}.
%Holmes believes that major depression is associated with elevated peripheral inflammatory markers. By comparing the utilization of transporters in the anterior cingulate cortex, frontal cortex, and insulation of patients with depression and healthy controls, the results found that transporter availability was significantly increased in glial cells of the anterior cingulate cortex during episodes in patients with MDD~\cite{2017Elevated}.
%Li explored the relationship between microglia-mediated processes and the pathophysiology of MDD by examining the distribution of  translocator protein total distribution volume $(TSPO \quad V_T)$, the results showed that the increased total distribution of translocated proteins was associated with decreased cognitive function in patients with MDD~\cite{li2018microglial}.

%\subsection{MRS}
%\label{sec_fquality}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%MRS uses nuclear chemical shifts to study molecular structure and can be used to detect metabolite concentrations in brain regions.

%N-acetyl aspartate(NAA) measures were interrogated through examining their relationship to previously documented ELS markers-cerebrospinal fluid (CSF) corticotropin -releasing factor (CRF) concentrations, hippocampal volume, body mass and behavioral timidity. Coplan's study found that compared with the control group, the NAA level in the left hippocampus of depression patients was significantly reduced, and the Glutamine and Glutamate(Glx) level in the right hippocampus was significantly increased~\cite{2018Early}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{fNIRS}
\label{sec_fquality}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fNIRS uses the scattering of blood to near-infrared light to obtain the changes in oxygenated hemoglobin (HbO), deoxygenated hemoglobin (HbR), and total hemoglobin (HbT) during brain activity, which reflects the activities of neuronal and cognitive brain function and is a useful tool to the auxiliary diagnosis of depression
%fNIRS utilizes the scattering properties of blood to near-infrared light to obtain changes in oxyhemoglobin and deoxyhemoglobin during brain activity.
%It is an important tool for the study of brain function imaging. It can be used to compare the differences in brain function between healthy and mentally ill patients, and to achieve non-invasive detection of brain function.
~\cite{2018Reduced,2019Brain,2014Relationship,2016Correlation,2019The}.
In recent years, a significant amount of research on auxiliary depression diagnosis based on fNIRS has been widely performed.
These studies have mainly used both traditional machine learning and deep learning approaches.

\subsubsection{fNIRS auxiliary depression diagnosis based on traditional machine learning}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
The research on fNIRS-based auxiliary depression diagnosis is still mainly based on traditional machine learning algorithms~\cite{2019Machine}~\cite{2017Machine}, which heavily rely on manually extracted features.
Further, they explored the characteristics of abnormal fNIRS indicators in depressed patients mainly from time-frequency domain feature calculation and spatial brain network analysis.

The signal's time-domain statistical and frequency-domain features are usually extracted at the fNIRS time-frequency domain analysis level.
The famous time domain statistical features of fNIRS signals include the mean, peak, valley, average, variance, and other feature indicators of the blood oxygen response function (HbO, HbR, HbT). These are the features of task-related cortical regions extracted by measuring the process of motor imagination task, visual task, cognitive task, etc., and recognized by machine learning classifiers such as SVM, RF, One Rule, and eXtreme Gradient Boosting~\cite{2015Automatic,2017Automatic,2020Classifying}.
In addition, some researchers also applied the statistical parameter mapping method based on the General Linear Model to the task of auxiliary depression diagnosis.
In this method, the linear combination of fNIRS data and regression quantity reflecting the design of the stimulation scheme is fitted. Therefore, General Linear Model has higher statistical effectiveness than the average value because it considers the whole fNIRS time series and takes advantage of the higher sampling rate recorded by fNIRS~\cite{2015Automatic2}.
Moreover, other researchers are committed to extracting features from fNIRS frequency domain signals and using Fourier transform, wavelet transform, and other methods to analyze the signal spectrum to extract effective recognition features~\cite {2015Automatic}.



By creating brain networks, the researchers investigate the structural characteristics of dysfunctional brain networks in depressed individuals in the spatial domain. Calculating the functional connectivity matrix is the initial step in constructing the subject's fNIRS brain network. The aberrant network indicators of depressive patients are then investigated by assessing the network properties using the functional connectivity matrix as the spatial domain characteristics of the participants. Finally, the classifier is utilized to identify depressed and healthy subjects. For example,
%First, we defined the fNIRS channel positions as the nodes of the brain network; the number of nodes was 22. Moreover, the definition of the edge is based on the calculated connectivity between the channels. In this study, we selected three coupling methods, including Pearson��s correlation coefficient (CORR), the magnitude squared coherence (COH) and phase-locking value (PLV), to calculate the functional connectivity matrixes.
Wu et al.~\cite{wu2020application} use three types of correlation analysis methods to construct the functional connectivity matrices: Pearson correlation analysis, amplitude squared coherence coefficient, and phase locking value. 
They perform the small-world model and centrality analysis based on these matrices. 
The results demonstrate the existence of a small-world model in both patients and healthy people's brain networks.
Furthermore, features such as the characteristic path length and betweenness centrality extracted from the functional connectivity matrix help classify patients and healthy people.



\begin{table*}
\centering
\caption{Experimental results based on brain imaging}
\label{tab3}
\setlength\tabcolsep{2mm}{
\begin{tabular}{c|c|c|c|c}
\hline
\textbf{Type}          & \textbf{Paper}                                                                                          & \textbf{Dataset(D+C)}                                                                                                     & \textbf{Methods}                                                                                                                                       & \textbf{Metrics(Accuracy/\%)}                                                                                                        \\
\hline

\multirow{24}{*}{fMRI} & Lord et al. ~\cite{lord2012changes}                                             & 43 (21+22)                                                                                                                 & SVM                                                                                                                                                    & 99.00                                                                                                                                \\
\cline{2-5}
                       & Wei et al.~\cite{2013Identifying}                                                 & 40 (20+20)                                                                                                                 & SVM                                                                                                                                                    & 90.00                                                                                                                                 \\
\cline{2-5}
                       & Zeng et al. ~\cite{2014Unsupervised}                                             & 53 (24+29)                                                                                                                 & Unsupervised ML                                                                                                                                        & 92.50                                                                                                                                \\
                       \cline{2-5}
                       & Yu et al.~\cite{2015Toward}                                                        & 62 (31+31)                                                                                                                 & \makecell[c]{sLASSO\\ gLASSO  \\ sgLASSO  \\ SVM}                                                              & \makecell[c]{83.82  \\ 91.95 \\ 90.08   \\ 94.68}                                              \\
                      \cline{2-5}
                       & Bhaumik~\cite{2016Multivariate}                                                   & 67 (38+29)                                                                                                                 & SVM                                                                                                                                                    & 76.10                                                                                                                                \\
\cline{2-5}
                       & Gu et al. ~\cite{8575800}                                                        & 92 (46+46)                                                                                                                 & Multivariate Pattern Analysis  & 90.22                                                                                                                                \\
\cline{2-5}
                       & Wang et al.~\cite{wang2017depression}                                            & 60 (31+29)                                                                                                                 & SVM                                                                                                                                                    & 95.00                                                                                                                                \\
\cline{2-5}
                       & Gui et al. ~\cite{2019The1}                                                      & 39 (19+20)                                                                                                                 & DNN                                                                                                                                                    & 94.68                                                                                                                                \\
                       \cline{2-5}
                       & Mousavian et al.~\cite{mousavian2020depression}                                   & NKI online dataset 279 (38+241)                                                                                             & \begin{tabular}[c]{@{}c@{}}CNN-LSTM \\ Spatial-temporal CNN \\ 3D CNN   \\ 3D VGG-16  \\ Functional Connectivity Network \\ Functional Connectivity Network\_woT-test  \\ Functional Connectivity Network\_CanICA\end{tabular} & \begin{tabular}[c]{@{}c@{}}100.00  \\ 100.00  \\ 90.00   \\ 100.00   \\ 94.00   \\ 86.00   \\ 87.00\end{tabular} \\
                       \cline{2-5}
                       & Mousavian et al.~\cite{9680063}                                  & NKI online dataset 279 (38+241)                                                                                             & Cubes-Atlas                                                                                                                                            & 93.00                                                                                                                                \\
\cline{2-5}
                       & Yan et al.~\cite{2020Quantitative}                                                & 99 (43+56)                                                                                                                 & Dynamic Functional Connectivity+SVM                                                                                                                                                & 99.13 (AUC)                                                                                                                           \\
 \cline{2-5}
                       & Zhao et al. ~\cite{2020Functional}                                               & 555 (269+286)                                                                                                              & Functional Network Connectivity+GAN                                                                                                                                                & 70.10                                                                                                                                \\
 \cline{2-5}
                       & Jun et al.~\cite{2020Identifying}                                                  & 73 (29+44)                                                                                                                 & Graph Convolutional Networks & 74.10                                                                                                                                \\
                      \cline{2-5}
                       & Yamashita et al.~\cite{ 2020Generalizable}                                     & \begin{tabular}[c]{@{}c@{}}discovery dataset 713 (149+564)   \\ independent validation dataset 521 (236+285)\end{tabular} & LASSO                                                                                                                                                  & approximately 70.00
\\
\hline
\multirow{6}{*}{fNIRS} & Song et al. ~\cite{2015Automatic}                                                & 138 (108+30)                                                                                                               & SVM                                                                                                                                                    & 86.77                                                                                                                                \\
\cline{2-5}
                       & Song et al.~\cite{2015Automatic2}                                                 & 138 (108+30)                                                                                                               & SVM                                                                                                                                                    & 89.71                                                                                                                                \\
\cline{2-5}
                       & Zhu et al.~\cite{2017Machine}                                                     & 20 (10+10)                                                                                                                 & One Rule        & 85.00                                                                                                                                \\
\cline{2-5}
                       & Zhu et al. ~\cite{2020Classifying}                                               & 31 (14+17)                                                                                                                 & RF+eXtreme Gradient Boosting & 92.58                                                                                                                                \\
\cline{2-5}
                       & Ma et al.~\cite{2020DISTINGUISHING }                                              & 36 (MDD)+48 (bipolar disorder patients)                                                                                    & LSTM                                                                                                                  & 96.20                                                                                                                                \\
\cline{2-5}
                       & Wang et al.~\cite{2021Depression}                                                & 96 (79+17)                                                                                                                 & CNN & 90.00                                                                                                                                \\
\hline

\end{tabular}}
           \begin{tablenotes}
			\footnotesize
			\item Least Absolute Shrinkage and Selection Operator(LASSO),
			    standard Least Absolute Shrinkage and Selection Operator (sLASSO),
				group Least Absolute Shrinkage and Selection Operator (gLASSO),
				sparse group Least Absolute Shrinkage and Selection Operator (sgLASSO),
				%Multivariate Pattern Analysis (MVPA),
				%Functional Connectivity Network (FCN),
				%Dynamic Functional Connectivity (DFC),
				%Functional Network Connectivity (FNC),
				%Spatial-temporal CNN (ST-CNN).
		\end{tablenotes}
\end{table*}

%MVPA (Multivariate pattern analysis)

\ifx\allfiles\undefined
\input{tnnls_suffix}
\fi


\subsubsection{fNIRS auxiliary depression diagnosis based on deep learning}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
The main deep learning methods for studying fNIRS-based auxiliary depression diagnosis are CNN, Graph Neural Network (GNN), and RNN.

The emergence of AlexNet confirmed the dominance of deep learning in computer vision and provided more possibilities for applying deep learning methods in fNIRS auxiliary depression diagnosis~\cite{2022Deep}.
This CNN method recognizes the original blood data, manually extracting HbO, HbR, HbT features, and channel correlation as inputs~\cite{2021Depression}.
However, their study has two shortcomings:
the effects of temporal data and spatial data are not compared or analyzed respectively,
and temporal and spatial data are not combined with working together.


To this end, some studies compare temporal features and Functional Connectivity through statistical analysis and then design the GNN classification of the network that takes both data as input.
Yu et al.~\cite{yu2022gnn} present a GNN-based technique for automatic depression recognition that integrates both temporal and spatial characteristics of fNIRS data.
As temporal data, fundamental statistical metrics of each channel are retrieved, and channel connectivity (coherence and correlation) is estimated as spatial features.
For categorization, they view each subject's data as a graph with temporal characteristics as node characteristics and geographical characteristics as edge weights.
Compared to conventional machine-learning algorithms, GNN-based methods achieved the best depression recognition performance, as demonstrated by experimental data.


The RNN method gives the artificial neural network a robust time-series signal classification and prediction ability, so it has a wide range of applications in natural language processing. Because fNIRS data has significant time series characteristics, the method based on RNN is gradually applied to this field. Among them, LSTM is the most representative. It can solve the long-term dependence problem of general RNN and can effectively analyze and predict the time series signals in fNIRS data~\cite{2021fNIRS}.
In addition, Ma et al.~\cite{2020DISTINGUISHING } propose a machine-learning classification method that combines CNN and LSTM. Large-time scale connectivity is determined using attention long short-term memory neural network, and short-time feature information is considered using the InceptionTime neural network in this method. It increases the network's ability to extract hidden information from fNIRS data, making the model more comprehensive and stable.

%Brain imaging technology has revealed abnormalities in brain structure, brain function and brain metabolism in patients with depression, providing new ideas for early diagnosis and optimization of treatment plans.



\subsection{Performance Comparison}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Table \ref{tab3} shows a summary of the experimental results based on brain imaging to diagnosing depression.
%As most researchers use their own collected data for the auxiliary diagnosis of depression based on brain images, the work among them is not comparable, but by comparing different methods of the same team, we can draw the following conclusions:
We evaluate the auxiliary depression diagnosis method using fMRI and fNIRS.
We review the effectiveness of the approaches examined in Tabel~\ref{tab3} to provide greater insight into the  brain imaging auxiliary depression diagnosis methods' performance.
The experimental classification accuracy data (\%) are taken directly from the related source articles to conduct a fair comparison.
It should be mentioned that we focus on comparing how different techniques perform on the same dataset.
The following list of observations can be summed up:

(1) Although the general linear model is the mainstream analysis method of fMRI images, based on its excellent ability to feature extraction, it has also achieved better results than the traditional linear feature extraction methods in fNIRS.

(2) When analyzing fMRI, the CNN-based model has a more vital ability to identify the characteristics of depression than the functional connectivity network model.
Deep learning methods have been applied to find spatial, temporal relationships between voxels of a stationary state network. Networks like CNN are known to be the best method for finding spatial.

(3) The lack of training samples is a serious problem when the deep learning method is applied to medical image analysis. Although the GAN model has not achieved good results, such a framework promises wide utility and great potential in neuroimaging biomarker identification.

%including the source and name of the method, the input brain imaging modality, the data set used (- represents that the data used were collected by ourselves), and the evaluation criteria of the experimental results, including Accuracy, FScore Precision, Recall, Sensitivity, Specificity, and Area Under Curve (AUC).

%SVM dominates the machine learning classifiers and usually achieves good results when compared with other classifiers. And deep learning algorithms usually achieve higher recognition accuracy than machine learning classifiers.
